# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the bin/rails db:seed command (or created alongside the database with db:setup).
#
# Examples:
#
#   movies = Movie.create([{ name: "Star Wars" }, { name: "Lord of the Rings" }])
#   Character.create(name: "Luke", movie: movies.first)

podcasts =[{:uid=>"0QzS47AWQ0Psb5MFGkcXcE", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Society", "uri"=>"spotify:genre:0JQ5DAqbMKFLFBJyefzcxG"}, {"__typename"=>"PodcastTopic", "title"=>"Culture", "uri"=>"spotify:genre:0JQ5DAqbMKFP9ywiCs8qKW"}]}
{:uid=>"0wVRACJNOxrPeI19SpYpPw", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Technology", "uri"=>"spotify:genre:tech_interviews_podcasts"}]}
{:uid=>"5L8sn8TVz7SdxWgC1ifgvA", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Language", "uri"=>"spotify:genre:0JQ5DAqbMKFGvEvBJcLHVZ"}]}
{:uid=>"53dHyhzazFrmPhwuambyuM", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"TV", "uri"=>"spotify:genre:0JQ5IMCbQBLo64OouK01L3"}, {"__typename"=>"PodcastTopic", "title"=>"Comedy", "uri"=>"spotify:genre:0JQ5DAqbMKFNr6gDrHHVKL"}]}
{:uid=>"6d6GHjPQxifJsAt3wrMaD6", :genres=>[]}
{:uid=>"0Fj5jPal9w3BRe3ZodP0X9", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Business", "uri"=>"spotify:genre:0JQ5DAqbMKFK0EBNV8Wn6R"}]}
{:uid=>"3T7gJQhR2DZJeeCl8jTKeK", :genres=>[]}
{:uid=>"3KbobICsUH4uluzQpaazA6", :genres=>[]}
{:uid=>"1MnG9oUaPcaswv9jCeE1lx", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Philosophy", "uri"=>"spotify:genre:0JQ5IMCbQBLjLJlIwYDak9"}]}
{:uid=>"6rNgMnwpGO0AvstorH7bbK", :genres=>[]}
{:uid=>"45gtTGXel0MJBkIgHDObQA", :genres=>[]}
{:uid=>"7HQoUC6OToADlDNw6AN80m", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Culture", "uri"=>"spotify:genre:0JQ5DAqbMKFP9ywiCs8qKW"}, {"__typename"=>"PodcastTopic", "title"=>"Philosophy", "uri"=>"spotify:genre:0JQ5IMCbQBLjLJlIwYDak9"}, {"__typename"=>"PodcastTopic", "title"=>"Science", "uri"=>"spotify:genre:0JQ5IMCbQBLzqj7yQzZb03"}]}
{:uid=>"7hPPHCJu1HiffCt596X0lG", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Business", "uri"=>"spotify:genre:0JQ5DAqbMKFK0EBNV8Wn6R"}, {"__typename"=>"PodcastTopic", "title"=>"Technology", "uri"=>"spotify:genre:tech_interviews_podcasts"}]}
{:uid=>"7gnNY9Fy8QSRbjXZ00A9jW", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Business", "uri"=>"spotify:genre:0JQ5DAqbMKFK0EBNV8Wn6R"}, {"__typename"=>"PodcastTopic", "title"=>"Philosophy", "uri"=>"spotify:genre:0JQ5IMCbQBLjLJlIwYDak9"}, {"__typename"=>"PodcastTopic", "title"=>"History", "uri"=>"spotify:genre:0JQ5DAqbMKFKK9EFSCDuOS"}]}
{:uid=>"6VZphlUtbD9vD00fDI9tbz", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Games", "uri"=>"spotify:genre:0JQ5DAqbMKFHAsyQVXtkEA"}]}
{:uid=>"7r93DjfzLoPyNptEM2snE6", :genres=>[]}
{:uid=>"3DfaUnQ6qypI0qK7tGhp4A", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Language", "uri"=>"spotify:genre:0JQ5DAqbMKFGvEvBJcLHVZ"}]}
{:uid=>"4gtSBBxIAE142ApX6LqsvN", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Business", "uri"=>"spotify:genre:0JQ5DAqbMKFK0EBNV8Wn6R"}, {"__typename"=>"PodcastTopic", "title"=>"Marketing", "uri"=>"spotify:genre:0JQ5IMCbQBLjlqsYQ6tkLI"}, {"__typename"=>"PodcastTopic", "title"=>"Careers", "uri"=>"spotify:genre:0JQ5DAqbMKFMnJvsZliRJL"}]}
{:uid=>"1D3Tuhh1VLlQvnG0ODW6Td", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Society", "uri"=>"spotify:genre:0JQ5DAqbMKFLFBJyefzcxG"}, {"__typename"=>"PodcastTopic", "title"=>"Culture", "uri"=>"spotify:genre:0JQ5DAqbMKFP9ywiCs8qKW"}]}
{:uid=>"3ePFDt0fJ3wi9REZ1Lwi3z", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Society", "uri"=>"spotify:genre:0JQ5DAqbMKFLFBJyefzcxG"}, {"__typename"=>"PodcastTopic", "title"=>"Culture", "uri"=>"spotify:genre:0JQ5DAqbMKFP9ywiCs8qKW"}]}
{:uid=>"7qZAVw03FuurfYnWIWwkHY", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Business", "uri"=>"spotify:genre:0JQ5DAqbMKFK0EBNV8Wn6R"}, {"__typename"=>"PodcastTopic", "title"=>"Philosophy", "uri"=>"spotify:genre:0JQ5IMCbQBLjLJlIwYDak9"}, {"__typename"=>"PodcastTopic", "title"=>"Technology", "uri"=>"spotify:genre:tech_interviews_podcasts"}]}
{:uid=>"11BcWZH5U1wdCKyCNs5ttj", :genres=>[{"__typename"=>"PodcastTopic", "title"=>"Society", "uri"=>"spotify:genre:0JQ5DAqbMKFLFBJyefzcxG"}, {"__typename"=>"PodcastTopic", "title"=>"Culture", "uri"=>"spotify:genre:0JQ5DAqbMKFP9ywiCs8qKW"}, {"__typename"=>"PodcastTopic", "title"=>"Technology", "uri"=>"spotify:genre:tech_interviews_podcasts"}]}
]

podcasts.each do |podcast|
  puts "Creating category #{podcast[:uid]}"
  if podcast[:genres]
    podcast[:genres].each do |genre|
      category = Category.find_or_create_by(name: genre["title"])
    end
  else
    "No genres for #{podcast[:uid]}"
  end
end

podcasts.each do |podcast|
  puts "Creating genres #{podcast[:uid]}"
  if podcast[:genres]
    pp = Podcast.find_by(uid: podcast[:uid])
    if pp
      podcast[:genres].each do |genre|
        category = Category.find_by(name: genre["title"])
        if category
          pp.categories << category
        else
          puts "No category for #{genre["title"]}"
        end
      end
    end
  else
    "No genres for #{podcast[:uid]}"
  end
end